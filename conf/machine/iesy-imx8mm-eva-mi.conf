require conf/machine/imx8mm-lpddr4-evk.conf

MACHINE_NAME = "iesy i.MX8M Mini OSM-SF (Eval Kit)"

IMX_DEFAULT_BOOTLOADER = "u-boot-imx"

# Kirkstone defaults to the mainline-BSP, we use the nxp-BSP. To change back to the mainline, comment out the next two lines
COMPATIBLE_MACHINE:iesy-imx8mm-eva-mi = "iesy-imx8mm-eva-mi"
PREFERRED_PROVIDER_virtual/kernel = "linux-fslc-imx"

PREFERRED_PROVIDER ?= "imx-atf"

KERNEL_DEVICETREE = "\
	iesy/iesy-imx8mm-eva-mi.dtb \
	"

BBMASK += " \
	.linux-rockchip.*.bbappend \
	"

# fix vim / vim-tiny build error on XWayland
PACKAGECONFIG:remove_pn-vim = "${@bb.utils.contains('DISTRO_FEATURES', 'wayland x11', 'x11', '', d)}"
PACKAGECONFIG:remove_pn-vim-tiny = "${@bb.utils.contains('DISTRO_FEATURES', 'wayland x11', 'x11', '', d)}"

SERIAL_CONSOLES = "115200;ttymxc2"
ATF_BOOT_UART_BASE = "0x30880000"