From 4e6d393f2b748c72471f30c7685a95dcaa59b74e Mon Sep 17 00:00:00 2001
From: Dominik Poggel <pog@iesy.com>
Date: Fri, 2 Feb 2024 11:19:56 +0100
Subject: [PATCH 30/30] arm64: dts: iesy: move initial dsi node to module

Clean up commented panel sections
---
 .../boot/dts/iesy/iesy-rpx30-eva-mi-v2.dts    | 39 -------------------
 .../boot/dts/iesy/iesy-rpx30-osm-sf.dtsi      |  5 +++
 2 files changed, 5 insertions(+), 39 deletions(-)

diff --git a/arch/arm64/boot/dts/iesy/iesy-rpx30-eva-mi-v2.dts b/arch/arm64/boot/dts/iesy/iesy-rpx30-eva-mi-v2.dts
index 90a3c61eca71..9e13049cb4ca 100644
--- a/arch/arm64/boot/dts/iesy/iesy-rpx30-eva-mi-v2.dts
+++ b/arch/arm64/boot/dts/iesy/iesy-rpx30-eva-mi-v2.dts
@@ -271,7 +271,6 @@ &vepu {
 /* Display Serial Interface */
 &dsi {
 	status = "okay";
-	rockchip,lane-rate = <891>;
 
 	panel@0 {
 		compatible = "simple-panel-dsi";
@@ -339,12 +338,6 @@ panel_in_dsi: endpoint {
 				};
 			};
 		};
-
-		/* should be defined to avoid kernel log errors */
-		/* vsp-supply is positive voltage supply, vsn-supply is negative voltage supply */
-		/* will not be critical: is not even used in simple-panel devicetree example */
-		/* vsp-supply = <???>; */
-		/* vsn-supply = <???>; */
 	};
 
 	ports {
@@ -487,35 +480,10 @@ lt8912@48 {
         compatible = "lontium,lt8912";
         reg = <0x48>;
         ddc-i2c-bus = <&i2c1>;
-		//hpd-gpios = <&gpio1 RK_PC5 GPIO_ACTIVE_HIGH>;
 		/* driver needs a valid reset gpio to function */
 		/* use not connected pin as dummy */
 		reset-gpios = <&gpio3 RK_PD3 GPIO_ACTIVE_LOW>; /* n.c. */
-		//pinctrl-names = "default";
-		//pinctrl-0 = <&pinctrl_lt8912>;
 		status = "okay";
-		//swap-mipi-pn = <1>;	/* needs to be unset to NOT swap MIPI P/N lines */
-
-/*
-		display-timings {
-			native-mode = <&timing0>;
-			timing0: timing0 {
-				clock-frequency = <74250000>;
-				hactive = <1280>;
-				vactive = <720>;
-				hfront-porch = <110>;
-				hsync-len = <40>;
-				hback-porch = <220>;
-				vfront-porch = <5>;
-				vsync-len = <5>;
-				vback-porch = <20>;
-				hsync-active = <0>;
-				vsync-active = <0>;
-				de-active = <0>;
-				pixelclk-active = <0>;
-			};
-		};
-*/
     };
 
 	/* BB138a: MAX9867ETJ+ audio codec */
@@ -837,13 +805,6 @@ i2c2_xfer: i2c2-xfer {
 		};
 	};
 
-//	lt8912 {
-//		pinctrl_lt8912: pinctrl-lt8912 {
-//			rockchip,pins = <1 RK_PC4 RK_FUNC_GPIO &pcfg_pull_none
-//							 1 RK_PC5 RK_FUNC_GPIO &pcfg_pull_none_4ma>;
-//		};
-//	};
-
 	gpiokeys {
 		pinctrl_buttons: buttongrp {
 			rockchip,pins = <3 RK_PA2 RK_FUNC_GPIO &pcfg_pull_up>,
diff --git a/arch/arm64/boot/dts/iesy/iesy-rpx30-osm-sf.dtsi b/arch/arm64/boot/dts/iesy/iesy-rpx30-osm-sf.dtsi
index d9e4a2aa3744..df7d57a1b3cb 100644
--- a/arch/arm64/boot/dts/iesy/iesy-rpx30-osm-sf.dtsi
+++ b/arch/arm64/boot/dts/iesy/iesy-rpx30-osm-sf.dtsi
@@ -397,6 +397,11 @@ eeprom@50 {
 	};
 };
 
+&dsi {
+	status = "disabled";
+	rockchip,lane-rate = <891>;
+};
+
 &pinctrl {
 	pmic {
 		pmic_int: pmic_int {
-- 
2.30.2

