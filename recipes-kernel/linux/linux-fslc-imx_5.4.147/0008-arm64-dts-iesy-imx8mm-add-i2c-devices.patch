From 4299977aebbe464c8a5fa3d2f4bf6ff90c557edb Mon Sep 17 00:00:00 2001
From: Dominik Poggel <pog@iesy.com>
Date: Thu, 12 Jan 2023 16:50:36 +0100
Subject: [PATCH 8/8] arm64: dts: iesy: imx8mm: add i2c devices

---
 .../boot/dts/iesy/iesy-imx8mm-eva-mi.dts      | 109 +++++++-----------
 1 file changed, 40 insertions(+), 69 deletions(-)

diff --git a/arch/arm64/boot/dts/iesy/iesy-imx8mm-eva-mi.dts b/arch/arm64/boot/dts/iesy/iesy-imx8mm-eva-mi.dts
index adcaf02707c3..58a33d042765 100755
--- a/arch/arm64/boot/dts/iesy/iesy-imx8mm-eva-mi.dts
+++ b/arch/arm64/boot/dts/iesy/iesy-imx8mm-eva-mi.dts
@@ -209,22 +209,22 @@
 // 	status = "okay";
 // };
 
-&usbotg1 {
-	dr_mode = "otg";
-	hnp-disable;
-	srp-disable;
-	adp-disable;
-	usb-role-switch;
-	picophy,pre-emp-curr-control = <3>;
-	picophy,dc-vol-level-adjust = <7>;
-	status = "okay";
+// &usbotg1 {
+// 	dr_mode = "otg";
+// 	hnp-disable;
+// 	srp-disable;
+// 	adp-disable;
+// 	usb-role-switch;
+// 	picophy,pre-emp-curr-control = <3>;
+// 	picophy,dc-vol-level-adjust = <7>;
+// 	status = "okay";
 
-	port {
-		usb1_drd_sw: endpoint {
-			remote-endpoint = <&typec1_dr_sw>;
-		};
-	};
-};
+// 	port {
+// 		usb1_drd_sw: endpoint {
+// 			remote-endpoint = <&typec1_dr_sw>;
+// 		};
+// 	};
+// };
 
 &usdhc1 { /* SDIO A */
 	pinctrl-names = "default", "state_100mhz", "state_200mhz";
@@ -295,6 +295,8 @@
 	scl-gpios = <&gpio5 14 GPIO_ACTIVE_HIGH>;
 	sda-gpios = <&gpio5 15 GPIO_ACTIVE_HIGH>;
 
+	status = "okay";
+
 	pmic@25 {
 		compatible = "nxp,pca9450a";
 		reg = <0x25>;
@@ -370,6 +372,17 @@
 			};
 		};
 	};
+
+	sensor@4e {
+		compatible = "ti,tmp75b";
+		reg = <0x4e>;
+	};
+
+	eeprom@50 {
+		compatible = "onsemi,24c32";
+		reg = <0x50>;
+		pagesize = <32>;
+	};
 };
 
 &i2c2 {
@@ -378,51 +391,9 @@
 	pinctrl-0 = <&pinctrl_i2c2>;
 	status = "okay";
 
-	adv_bridge: adv7535@3d {
-		compatible = "adi,adv7533";
-		reg = <0x3d>;
-		adi,addr-cec = <0x3b>;
-		adi,dsi-lanes = <4>;
-		pinctrl-names = "default";
-		pinctrl-0 = <&pinctrl_i2c2_synaptics_dsx_io>;
-		interrupt-parent = <&gpio1>;
-		interrupts = <9 IRQ_TYPE_LEVEL_LOW>;
-		status = "okay";
-
-		port {
-			adv7535_from_dsim: endpoint {
-				remote-endpoint = <&dsim_to_adv7535>;
-			};
-		};
-	};
-
-	ptn5110: tcpc@50 {
-		compatible = "nxp,ptn5110";
-		pinctrl-names = "default";
-		pinctrl-0 = <&pinctrl_typec1>;
-		reg = <0x50>;
-		interrupt-parent = <&gpio2>;
-		interrupts = <11 8>;
-		status = "okay";
-
-		port {
-			typec1_dr_sw: endpoint {
-				remote-endpoint = <&usb1_drd_sw>;
-			};
-		};
-
-		typec1_con: connector {
-			compatible = "usb-c-connector";
-			label = "USB-C";
-			power-role = "dual";
-			data-role = "dual";
-			try-power-role = "sink";
-			source-pdos = <PDO_FIXED(5000, 3000, PDO_FIXED_USB_COMM)>;
-			sink-pdos = <PDO_FIXED(5000, 3000, PDO_FIXED_USB_COMM)
-				     PDO_VAR(5000, 20000, 3000)>;
-			op-sink-microwatt = <15000000>;
-			self-powered;
-		};
+	audio_codec@18 {
+		compatible = "ti,tlv320aic3253", "ti,tlv320aic3x";
+		reg = <0x18>;
 	};
 };
 
@@ -744,16 +715,16 @@
 	status = "okay";
 };
 
-&mipi_dsi {
-	status = "okay";
+// &mipi_dsi {
+// 	status = "okay";
 
-	port@1 {
-		dsim_to_adv7535: endpoint {
-			remote-endpoint = <&adv7535_from_dsim>;
-			attach-bridge;
-		};
-	};
-};
+// 	port@1 {
+// 		dsim_to_adv7535: endpoint {
+// 			remote-endpoint = <&adv7535_from_dsim>;
+// 			attach-bridge;
+// 		};
+// 	};
+// };
 
 &vpu_g1 {
 	status = "okay";
-- 
2.30.2

